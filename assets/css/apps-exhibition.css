/* 应用展示插件前端样式 - 重构版 V5 (全部字体大小和对齐精调) */

/* 全局容器和网格布局 */
.apps-exhibition-wrap {
    max-width: 1240px; /* 稍微增加最大宽度 */
    margin: 0 auto;
    padding: 0 15px;
}

.apps-exhibition-list {
    display: grid;
    /* 默认桌面三列布局，每列最小宽度360px，自适应填充 */
    grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
    gap: 15px; /* 间距 */
}

/* 筛选器样式 */
.apps-exhibition-filter-group {
    margin-bottom: 20px;
}

.apps-exhibition-filter {
    font-size: 16px; /* 基础字体大小 */
    user-select: none;
    display: flex;
    flex-wrap: wrap;
    align-items: center; /* 确保整个筛选行（文本和按钮）垂直居中对齐 */
}

.apps-exhibition-filter span {
    margin-right: 15px;
    font-weight: bold; /* “筛选分类:”文本为粗体 */
    color: #555;
    white-space: nowrap;
    /* 再次明确字体大小以防万一，但通常会继承父级的16px */
    font-size: 16px; 
}

.apps-exhibition-filter .filter-btn {
    display: inline-block;
    margin-right: 10px;
    margin-bottom: 5px;
    padding: 6px 14px;
    background: #f0f2f5; /* 更浅的背景 */
    color: #444;
    text-decoration: none;
    border-radius: 20px;
    cursor: pointer;
    transition: background-color 0.2s ease, color 0.2s ease;
    /* 核心修改：增加按钮文本的字体大小以视觉上匹配粗体文本 */
    font-size: 17px; /* 比16px粗体略大，以达到视觉平衡 */
    line-height: 1; /* 减少按钮内部的额外行高空间，通常按钮会这样做 */
}

.apps-exhibition-filter .filter-btn.active,
.apps-exhibition-filter .filter-btn:hover {
    background: #007bff; /* WordPress 蓝色 */
    color: #fff;
    text-decoration: none;
}

/* 应用卡片样式 */
.apps-exhibition-item {
    background: #fff;
    border: 1px solid #e0e0e0; /* 更细的边框 */
    border-radius: 12px;
    padding: 15px; /* 调整内边距 */
    box-shadow: 0 4px 10px rgba(0,0,0,0.06); /* 更柔和的阴影 */
    transition: box-shadow 0.2s ease, transform 0.2s ease;
    display: flex; /* flex 布局 */
    align-items: center; /* 让图标和文字内容块在父容器中垂直居中 */
    gap: 15px; /* 图标和文字之间的间距 */
    position: relative; /* 为下载按钮定位 */
    overflow: hidden; /* 隐藏超出边界的内容，确保圆角 */
    min-height: 80px; /* 确保卡片最小高度 */
    cursor: pointer; /* 提示可点击 */
}

.apps-exhibition-item:hover {
    box-shadow: 0 8px 18px rgba(0,0,0,0.12); /* 悬停时阴影加深 */
    transform: translateY(-2px); /* 悬停时轻微上浮 */
}

/* 应用图标 */
.app-icon {
    width: 64px; /* 图标显示大小 */
    height: 64px; /* 图标显示大小 */
    background-size: cover; /* 自动裁切和缩放以覆盖整个区域 */
    background-repeat: no-repeat;
    background-position: center center; /* 居中裁切 */
    border-radius: 15px; /* 圆角 */
    flex-shrink: 0; /* 防止图标缩小 */
    box-shadow: 0 2px 5px rgba(0,0,0,0.1); /* 图标阴影 */
    margin-top: 0; /* 保持为0，通过父级统一对齐 */
}

/* 应用文本内容 */
.app-text-content {
    flex: 1; /* 占据剩余空间 */
    display: flex;
    flex-direction: column;
    justify-content: center; /* 确保 app-name 和 app-desc 在其容器内垂直居中 */
    line-height: 1.3; /* 恢复一个常规行高 */
    overflow: hidden; /* 隐藏溢出文本 */
    /* 核心修改：再次微调文本块的整体位置，以达到最佳视觉对齐 */
    /* 这个值可能需在实际浏览器中微调，以适应具体字体和渲染 */
    transform: translateY(-4px); /* 向上移动4px，补偿字体基线带来的视觉偏差，使顶线靠上 */
}

/* 应用名称 */
.app-name {
    margin: 0; /* 确保没有默认外边距 */
    font-weight: 600; /* 加粗 */
    font-size: 18px;
    color: #333;
    white-space: nowrap; /* 不换行 */
    overflow: hidden; /* 隐藏溢出 */
    text-overflow: ellipsis; /* 显示省略号 */
    line-height: 1.2; /* 调整行高，可能需要微调 */
}

/* 应用描述 */
.app-desc {
    margin-top: 4px; /* 与名称的间距 */
    font-size: 14px;
    color: #777;
    overflow: hidden; /* 隐藏溢出 */
    text-overflow: ellipsis; /* 超出显示省略号 */
    line-height: 1.4; /* 调整行高让两行描述更易读 */
    /* 实现多行文本截断 */
    display: -webkit-box;
    -webkit-line-clamp: 2; /* 最多显示2行 */
    -webkit-box-orient: vertical; /* 必要属性 */
    word-break: break-all; /* 确保长单词也能正常折行 */
}

/* 悬停操作区域 (下载按钮) */
.app-hover-action {
    position: absolute; /* 相对于卡片定位 */
    top: 0; /* 覆盖整个卡片 */
    left: 0;
    width: 100%;
    height: 100%;
    /* 核心修改：背景透明度调整到70% */
    background-color: rgba(255, 255, 255, 0.7); /* 70% 透明度的白色覆盖层 */
    display: flex;
    justify-content: flex-end; /* 按钮靠右边 */
    align-items: center; /* 按钮垂直居中 */
    padding-right: 15px; /* 按钮距离右侧边缘的内边距 */
    opacity: 0; /* 默认隐藏 */
    visibility: hidden; /* 默认不可见 */
    /* 过渡效果，同时包括背景色 */
    transition: opacity 0.3s ease, visibility 0.3s ease, background-color 0.3s ease;
    border-radius: 12px; /* 和卡片保持一致的圆角 */
    pointer-events: none; /* 默认不拦截鼠标事件 */
    z-index: 5; /* 确保在内容上方 */
}

/* 当卡片悬停时显示下载按钮和覆盖层 */
.apps-exhibition-item:hover .app-hover-action {
    opacity: 1;
    visibility: visible;
    pointer-events: auto; /* 悬停时允许点击 */
}


/* 下载按钮样式 */
.download-btn {
    background-color: #007bff; /* 蓝色按钮 */
    color: #fff;
    text-decoration: none;
    padding: 8px 20px; /* 内边距 */
    border-radius: 8px; /* 圆角 */
    font-weight: 500;
    font-size: 16px;
    transition: background-color 0.2s ease, box-shadow 0.2s ease;
    white-space: nowrap;
    box-shadow: 0 3px 8px rgba(0,123,255,0.3); /* 按钮阴影 */
    min-width: 80px; /* 确保按钮宽度，防止文字太短时缩水太小 */
    text-align: center; /* 文本居中 */
}

.download-btn:hover,
.download-btn:focus {
    background-color: #0056b3; /* 悬停颜色 */
    box-shadow: 0 5px 12px rgba(0,86,179,0.4);
    outline: none;
}

/* 禁用下载按钮样式 */
.download-btn-disabled {
    background-color: #ced4da; /* 灰色 */
    color: #6c757d;
    cursor: not-allowed;
    box-shadow: none;
}

/* 移动端适配 */
@media (max-width: 768px) {
    .apps-exhibition-list {
        /* 移动端一列布局 */
        grid-template-columns: 1fr;
        gap: 10px; /* 移动端更紧凑的间距 */
    }

    .apps-exhibition-item {
        padding: 12px;
        gap: 12px;
        align-items: center; /* 确保移动端也垂直居中 */
        padding-right: 12px; /* 恢复正常的右侧内边距 */
    }

    .app-icon {
        width: 56px; /* 移动端图标稍小 */
        height: 56px;
        border-radius: 12px;
        margin-top: 0;
    }

    .app-name {
        font-size: 17px;
    }

    .app-desc {
        font-size: 13px;
        margin-top: 3px;
        -webkit-line-clamp: 2;
    }

    /* 移动端下载按钮始终显示 */
    .app-text-content {
        flex: 1; /* 占据所有可用空间，不需要 max-width 限制 */
        transform: translateY(-4px); /* 保持微调 */
    }

    /* 移动端下载按钮始终显示，不再隐藏，作为覆盖层 */
    .app-hover-action {
        position: absolute; /* 继续绝对定位 */
        top: 0; /* 覆盖整个卡片 */
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(255, 255, 255, 0.7); /* 移动端也使用透明覆盖 */
        opacity: 1; /* 始终可见 */
        visibility: visible;
        pointer-events: auto;
        display: flex; /* 确保Flex布局 */
        justify-content: flex-end; /* 按钮靠右边 */
        align-items: center; /* 按钮垂直居中 */
        padding-right: 12px; /* 按钮距离右侧边缘的内边距 */
        transition: none; /* 移动端不进行悬停过渡 */
    }

    .apps-exhibition-item .download-btn {
        padding: 6px 15px; /* 移动端按钮较小 */
        font-size: 15px;
        min-width: unset; /* 移除固定宽度，让其自适应内容 */
    }

    /* 移动端卡片不再有悬停效果 */
    .apps-exhibition-item:hover {
        transform: none;
        box-shadow: 0 4px 10px rgba(0,0,0,0.06);
    }
}
